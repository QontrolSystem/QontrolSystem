@using QontrolSystem.Models.Accounts
@model User
@{
    ViewBag.Title = "User Details";
}
@section Styles {
    <link href="~/css/user-management/user-details.css" rel="stylesheet" />
}

<div class="user-details-container">
    <h2 class="page-title">User Details</h2>

    <div class="details-card">
        <dl class="details-list">
            <div class="detail-row">
                <dt class="detail-label name">Full Name</dt>
                <dd class="detail-value">@Model.FirstName @Model.LastName</dd>
            </div>

            <div class="detail-row">
                <dt class="detail-label email">Email</dt>
                <dd class="detail-value email">@Model.Email</dd>
            </div>

            <div class="detail-row">
                <dt class="detail-label phone">Phone</dt>
                <dd class="detail-value">@(string.IsNullOrEmpty(Model.PhoneNumber) ? "Not provided" : Model.PhoneNumber)</dd>
            </div>

            <div class="detail-row">
                <dt class="detail-label role">Role</dt>
                <dd class="detail-value">
                    <span class="detail-value role">@(Model.Role?.RoleName ?? "Not assigned")</span>
                </dd>
            </div>

            <div class="detail-row">
                <dt class="detail-label department">Department</dt>
                <dd class="detail-value">
                    <span class="detail-value department">@(Model.Department?.DepartmentName ?? "Not assigned")</span>
                </dd>
            </div>

            @if (Model.ITSubDepartment != null &&
                        !string.IsNullOrWhiteSpace(Model.ITSubDepartment.SubDepartmentName))
            {
                <div class="detail-row">
                    <dt class="detail-label department">Sub-Department</dt>
                    <dd class="detail-value">
                        <span class="detail-value department">@Model.ITSubDepartment.SubDepartmentName</span>
                    </dd>
                </div>
            }


            <div class="detail-row">
                <dt class="detail-label active">Status</dt>
                <dd class="detail-value">
                    <span class="status-badge @(Model.IsActive ? "active" : "inactive")">
                        @(Model.IsActive ? "Active" : "Inactive")
                    </span>
                </dd>
            </div>

            <div class="detail-row">
                <dt class="detail-label created">Created</dt>
                <dd class="detail-value">@Model.CreatedAt.ToString("MMMM dd, yyyy 'at' hh:mm tt")</dd>
            </div>
        </dl>
    </div>

    <div class="action-buttons">
        <a asp-action="Edit" asp-route-id="@Model.UserID" class="action-btn btn-edit">
            Edit User
        </a>
        <a asp-action="UserManagementIndex" class="action-btn btn-back">
            Back to List
        </a>
    </div>
</div>